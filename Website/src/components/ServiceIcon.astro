---
export type ServiceType = "foto" | "video" | "post" | "konzept" | "produktion";

interface Props {
  service: ServiceType;
  size?: "sm" | "md" | "lg";
  showTooltip?: boolean;
  linkToLegend?: boolean;
}

const { service, size = "sm", showTooltip = true, linkToLegend = true } = Astro.props;

const serviceInfo: Record<ServiceType, { label: string; description: string }> = {
  foto: { label: "Fotografie", description: "Professionelle Bildaufnahmen" },
  video: { label: "Videografie", description: "Videodreh & Bewegtbild" },
  post: { label: "Postproduktion", description: "Schnitt, Colorgrading, Bearbeitung" },
  konzept: { label: "Konzept", description: "Kreative Leitung & Storytelling" },
  produktion: { label: "Produktion", description: "Projektleitung & Organisation" },
};

const sizeClasses: Record<string, string> = {
  sm: "service-icon--sm",
  md: "service-icon--md",
  lg: "service-icon--lg",
};

const info = serviceInfo[service];
const Tag = linkToLegend ? "a" : "span";
---

<Tag
  href={linkToLegend ? "#leistungen" : undefined}
  class={`service-icon ${sizeClasses[size]}`}
  data-service={service}
  data-tooltip={showTooltip ? info.label : undefined}
  aria-label={linkToLegend ? `${info.label} â€“ zur Legende` : info.label}
  title={info.label}
>
  {service === "foto" && (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
      <circle cx="12" cy="13" r="4"/>
    </svg>
  )}
  {service === "video" && (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
      <path d="M7 2v20M17 2v20M2 12h20M2 7h5M2 17h5M17 17h5M17 7h5"/>
    </svg>
  )}
  {service === "post" && (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <line x1="4" y1="21" x2="4" y2="14"/>
      <line x1="4" y1="10" x2="4" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="12"/>
      <line x1="12" y1="8" x2="12" y2="3"/>
      <line x1="20" y1="21" x2="20" y2="16"/>
      <line x1="20" y1="12" x2="20" y2="3"/>
      <circle cx="4" cy="12" r="2"/>
      <circle cx="12" cy="10" r="2"/>
      <circle cx="20" cy="14" r="2"/>
    </svg>
  )}
  {service === "konzept" && (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M9 18h6"/>
      <path d="M10 22h4"/>
      <path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"/>
    </svg>
  )}
  {service === "produktion" && (
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
      <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
    </svg>
  )}
</Tag>
